{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/search.css') }}">
{% endblock %}

{% block content %}
<div class="search-container">
    <!-- Header Section -->
    <div class="search-header">
        <div class="header-content">
            <div class="header-icon">
                <span class="material-icons">search</span>
            </div>
            <div class="header-text">
                <h1>Item Search</h1>
                <p>Find items across all your captured character stashes</p>
            </div>
        </div>
    </div>

    <!-- Search Section -->
    <div class="search-sections">
        <div class="search-section">
            <div class="section-header">
                <span class="material-icons">manage_search</span>
                <h2>Search Items</h2>
            </div>
            <div class="section-content">
                <div class="search-form">
                    <div class="instructions-panel">
                        <h3>How to search</h3>
                        <ol>
                            <li>Capture characters whose stashes you want to search in the <strong>Characters</strong>
                                section</li>
                            <li>Enter keywords separated by commas (item names, rarities, enchantments)</li>
                            <li>Results will show items matching your search terms</li>
                            <li>Click on results to see detailed item information</li>
                        </ol>
                        <div class="search-tips">
                            <h4>Search Examples</h4>
                            <div class="tip-examples">
                                <div class="tip-example">
                                    <span class="tip-label">Item name:</span>
                                    <code>barbuta helm</code>
                                </div>
                                <div class="tip-example">
                                    <span class="tip-label">By rarity:</span>
                                    <code>rare, epic, legendary</code>
                                </div>
                                <div class="tip-example">
                                    <span class="tip-label">By enchantment:</span>
                                    <code>agility, strength, magical damage</code>
                                </div>
                                <div class="tip-example">
                                    <span class="tip-label">Combined search:</span>
                                    <code>sword, rare, strength</code>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="search-input-container">
                        <div class="search-input-wrapper">
                            <input type="text" class="search-input"
                                placeholder="Search for items across all characters..." id="searchInput">
                            <div class="search-icon">
                                <span class="material-icons">search</span>
                            </div>
                            <button class="clear-search" id="clearSearch" style="display: none;">
                                <span class="material-icons">clear</span>
                            </button>
                        </div>
                        <div class="search-meta" id="searchMeta"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="search-section results-section" id="resultsSection">
            <div class="section-header">
                <span class="material-icons">inventory_2</span>
                <h2>Search Results</h2>
                <div class="results-count" id="resultsCount"></div>
            </div>
            <div class="section-content">
                <div class="search-results" id="searchResults">
                    <div class="empty-search-state">
                        <span class="material-icons">search</span>
                        <h3>Ready to search</h3>
                        <p>Enter search terms above to find items across all your character stashes</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/search.js') }}"></script>
{% endblock %}